<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>roleManage</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" th:href="@{/layui/css/layui.css}"/>
</head>
<body>   
<div style="width:70%;margin:50px auto;">
    <table class="layui-table" lay-size="lg"  lay-even="nob" lay-skin="line">
	  <thead>
        <tr>
            <th>序号</th>
            <th>用户名</th>
            <th>账号</th>
            <th>角色</th>
            <th>编辑</th>
            <th>删除</th>
        </tr>
      </thead>
        <tr th:each="ur: ${user_role}">
	        <td th:text="${ur.key.user_id}"></td>
	        <td th:text="${ur.key.user_name}"></td>
	        <td th:text="${ur.key.user_account}"></td>
	        <td th:text="${ur.value}" th:if="not ${#arrays.isEmpty(ur.value)}"></td>
	        <td th:text="无授权角色" th:if="${#arrays.isEmpty(ur.value)}"></td>
	        <td><a th:href="@{/editRole(user_id=${ur.key.user_id})}" class="layui-btn layui-btn-sm layui-btn-normal">编辑</a></td>
          	<td>
	            <a th:if="not ${#arrays.isEmpty(ur.value)}" th:href="@{/deleteRole(user_id=${ur.key.user_id})}" class="layui-btn layui-btn-sm layui-btn-danger">删除</a>
	            <a th:if="${#arrays.isEmpty(ur.value)}" th:href="@{/deleteRole(user_id=${ur.key.user_id})}" class="layui-btn layui-btn-sm layui-btn-disabled">删除</a>
            </td>
    	</tr>    
    </table>
    <br/>
    <div style="text-align: center"> 
            <a th:href="@{/roleManage(start=0)}" class="layui-btn layui-btn-radius layui-btn-primary"><i class="layui-icon layui-icon-prev"></i></a>
            <a th:href="@{/roleManage(start=${page.pageNum-1})}" class="layui-btn layui-btn-radius layui-btn-primary"><i class="layui-icon layui-icon-left"></i></a>
            <a th:href="@{/roleManage(start=${page.pageNum+1})}" class="layui-btn layui-btn-radius layui-btn-primary"><i class="layui-icon layui-icon-right"></i></a>
            <a th:href="@{/roleManage(start=${page.lastPage})}" class="layui-btn layui-btn-radius layui-btn-primary"><i class="layui-icon layui-icon-next"></i></a>
    </div>
</div>

</body>
</html>